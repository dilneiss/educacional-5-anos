<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Jogo Educativo Infantil</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive;
            background-color: #FFF3E0;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            min-height: 100vh;
            position: relative;
        }
        .game-mode {
            background-color: #81D4FA;
            border-radius: 20px;
            padding: 20px;
            margin: 15px;
            cursor: pointer;
            font-size: 28px;
            color: #000;
            transition: transform 0.2s;
        }
        .game-mode:hover {
            transform: scale(1.05);
        }
        .number-option, .emoji-option {
            background-color: #C8E6C9;
            width: 120px;
            height: 120px;
            margin: 10px;
            display: inline-flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            border-radius: 15px;
            cursor: pointer;
            border: 3px solid #000;
        }
        .emoji-name {
            font-size: 14px;
            margin-top: 5px;
        }
        .target-display {
            font-size: 80px;
            margin: 20px;
            padding: 20px;
            background-color: #FFF9C4;
            border-radius: 15px;
            display: inline-block;
        }
        .feedback {
            font-size: 40px;
            margin: 20px;
            min-height: 60px;
        }
        .emoji-grid {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin: 20px;
        }
        button {
            font-size: 24px;
            padding: 15px 30px;
            margin: 15px;
            border-radius: 15px;
            background-color: #4CAF50;
            border: none;
            color: white;
            cursor: pointer;
        }
        .stars-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 40px;
            background: rgba(255, 255, 255, 0.9);
            padding: 10px 20px;
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            display: flex;
            align-items: center;
            gap: 20px;
        }
        .player-name {
            font-size: 24px;
            color: #2E7D32;
            font-weight: bold;
        }
        
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ğŸ® Vamos Aprender! ğŸŒˆ</h1>
        
        <div id="main-menu">
            <div class="game-mode" onclick="startGame('numbers')">ğŸ”¢ Encontrar NÃºmeros</div>
            <div class="game-mode" onclick="startGame('letters')">ğŸ”¤ Letras e Emojis</div>
            <div class="game-mode" onclick="startGame('counting')">ğŸ Contar Emojis</div>
        </div>

        <div id="game-area" style="display: none;">
            <div id="content"></div>
            <div id="feedback" class="feedback"></div>
            <button onclick="showMainMenu()">Voltar ao Menu</button>
        </div>
    </div>

    <div class="stars-container" id="stars">â­ 0</div>

    <script>
        let stars = localStorage.getItem('stars') ? Math.max(0, parseInt(localStorage.getItem('stars'))) : 0;
        let previousStars = stars;
        const numbers = Array.from({length: 20}, (_, i) => i + 1);
        const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
        
        // Banco de dados CORRIGIDO com primeira letra em portuguÃªs
        const emojiDatabase = {
    "A": [
        {"emoji": "âœˆï¸", "nome": "AviÃ£o"},
        {"emoji": "ğŸŒ³", "nome": "Ãrvore"},
        {"emoji": "ğŸ¨", "nome": "Arte"},
        {"emoji": "ğŸ¹", "nome": "Arco e Flecha"},
        {"emoji": "ğŸœ", "nome": "Aranha"},
        {"emoji": "âš“", "nome": "Ã‚ncora"},
        {"emoji": "ğŸ­", "nome": "Ator"},
        {"emoji": "ğŸš‘", "nome": "AmbulÃ¢ncia"},
        {"emoji": "ğŸŒˆ", "nome": "Arco-Ã­ris"},
        {"emoji": "ğŸš", "nome": "Arroz"}
    ],
    "B": [
        {"emoji": "ğŸˆ", "nome": "BalÃ£o"},
        {"emoji": "ğŸš²", "nome": "Bicicleta"},
        {"emoji": "ğŸŒ", "nome": "Banana"},
        {"emoji": "ğŸ”‹", "nome": "Bateria"},
        {"emoji": "ğŸ€", "nome": "Basquete"},
        {"emoji": "ğŸ", "nome": "Abelha"},
        {"emoji": "ğŸŸ", "nome": "Batata Frita"},
        {"emoji": "âš–", "nome": "BalanÃ§a"},
        {"emoji": "ğŸ†", "nome": "Berinjela"},
        {"emoji": "âš½", "nome": "Bola"}
    ],
    "C": [
        {"emoji": "ğŸ¡", "nome": "Casa"},
        {"emoji": "ğŸ°", "nome": "Castelo"},
        {"emoji": "ğŸ™ï¸", "nome": "Cidade"},
        {"emoji": "ğŸ", "nome": "Cobra"},
        {"emoji": "ğŸ¶", "nome": "Cachorro"},
        {"emoji": "â˜•", "nome": "CafÃ©"},
        {"emoji": "ğŸµ", "nome": "ChÃ¡"},
        {"emoji": "ğŸš—", "nome": "Carro"},
        {"emoji": "ğŸ ", "nome": "Carrossel"},
        {"emoji": "ğŸ¦Œ", "nome": "Cervo"},
        {"emoji": "ğŸ¥•", "nome": "Cenoura"},
        {"emoji": "ğŸ”‘", "nome": "Chave"},
        {"emoji": "ğŸ¦‰", "nome": "Coruja"},
        {"emoji": "ğŸƒ", "nome": "Corrida"}
    ],
    "D": [
        {"emoji": "ğŸ²", "nome": "Dado"},
        {"emoji": "ğŸ‰", "nome": "DragÃ£o"},
        {"emoji": "ğŸ’", "nome": "Diamante"},
        {"emoji": "ğŸ¯", "nome": "Dardo"},
        {"emoji": "ğŸ“…", "nome": "Data"},        
    ],
    "E": [
        {"emoji": "â­", "nome": "Estrela"},
        {"emoji": "ğŸ“§", "nome": "E-mail"},
        {"emoji": "ğŸ˜", "nome": "Elefante"},
        {"emoji": "ğŸ”Œ", "nome": "Energia"},
        {"emoji": "ğŸ›¤", "nome": "Estrada"},        
    ],
    "F": [
        {"emoji": "ğŸ—", "nome": "Fita"},
        {"emoji": "ğŸŒ¸", "nome": "Flor"},
        {"emoji": "ğŸœ", "nome": "Formiga"},
        {"emoji": "ğŸ”¥", "nome": "Fogo"},
        {"emoji": "ğŸº", "nome": "Flauta"},
        {"emoji": "ğŸ", "nome": "Final"},
        {"emoji": "ğŸ‚", "nome": "Folha"},
        {"emoji": "ğŸš€", "nome": "Foguete"},
        {"emoji": "ğŸŒ¹", "nome": "Flor"}
    ],
    "G": [
        {"emoji": "ğŸ¬", "nome": "Golfinho"},
        {"emoji": "ğŸ±", "nome": "Gato"},
        {"emoji": "ğŸ¦’", "nome": "Girafa"},
        {"emoji": "â˜‚ï¸", "nome": "Guarda-chuva"},
        {"emoji": "ğŸ¸", "nome": "Guitarra"},
        {"emoji": "ğŸ¥…", "nome": "Gol"},
        {"emoji": "ğŸŒï¸", "nome": "Golfe"}
    ],
    "H": [
        {"emoji": "ğŸ¥", "nome": "Hospital"},
        {"emoji": "ğŸš", "nome": "HelicÃ³ptero"},
        {"emoji": "ğŸ¹", "nome": "Hamster"}
    ],
    "I": [
        {"emoji": "ğŸ", "nome": "Ilha"},
        {"emoji": "ğŸ’¡", "nome": "Ideia"},
        {"emoji": "ğŸ“±", "nome": "Internet"},
        {"emoji": "ğŸ–¼", "nome": "Imagem"}
    ],
    "J": [
        {"emoji": "ğŸ·", "nome": "Jazz"},
        {"emoji": "ğŸš™", "nome": "Jipe"}
    ],
    "K": [
        {"emoji": "ğŸ¥", "nome": "Kiwi"},
        {"emoji": "ğŸ¤¹", "nome": "KaratÃª"},
        {"emoji": "ğŸ¥‹", "nome": "Kimono"}
    ],
    "L": [
        {"emoji": "ğŸ‹", "nome": "LimÃ£o"},
        {"emoji": "ğŸ“š", "nome": "Livro"},
        {"emoji": "ğŸ’¡", "nome": "LÃ¢mpada"},
        {"emoji": "ğŸ¦", "nome": "LeÃ£o"},
        {"emoji": "ğŸŒ™", "nome": "Lua"},
        {"emoji": "ğŸŠ", "nome": "Laranja"},
        {"emoji": "ğŸï¸", "nome": "Lago"},
        {"emoji": "ğŸ›³", "nome": "Lancha"}
    ],
    "M": [
        {"emoji": "ğŸ¶", "nome": "MÃºsica"},
        {"emoji": "ğŸ¤", "nome": "Microfone"},
        {"emoji": "ğŸ", "nome": "MaÃ§Ã£"},
        {"emoji": "ğŸµ", "nome": "Macaco"},
        {"emoji": "ğŸˆ", "nome": "MelÃ£o"},
        {"emoji": "ğŸŒŠ", "nome": "Mar"},
        {"emoji": "ğŸ”", "nome": "Montanha"},
        {"emoji": "ğŸ—º", "nome": "Mapa"},
        {"emoji": "âœ‰ï¸", "nome": "Mensagem"},
        {"emoji": "ğŸš‡", "nome": "MetrÃ´"},
        {"emoji": "ğŸ¦‡", "nome": "Morcego"},
        {"emoji": "ğŸ”¨", "nome": "Machado"}
    ],
    "N": [
        {"emoji": "â„ï¸", "nome": "Neve"},
        {"emoji": "ğŸš¢", "nome": "Navio"}
    ],
    "O": [
        {"emoji": "ğŸ¥š", "nome": "Ovo"},
        {"emoji": "ğŸ¢", "nome": "Oficina"},
        {"emoji": "ğŸ¨", "nome": "Obra de Arte"},
        {"emoji": "ğŸšŒ", "nome": "Ã”nibus"}
    ],
    "P": [
        {"emoji": "ğŸ ", "nome": "Peixe"},
        {"emoji": "ğŸ•", "nome": "Pizza"},
        {"emoji": "ğŸ§", "nome": "Pinguim"},
        {"emoji": "ğŸ", "nome": "Presente"},
        {"emoji": "ğŸšª", "nome": "Porta"},
        {"emoji": "ğŸ™", "nome": "Polvo"},
        {"emoji": "ğŸ“¦", "nome": "Pacote"},
        {"emoji": "ğŸ†", "nome": "PrÃªmio"},
        {"emoji": "ğŸ¥", "nome": "Panqueca"},
        {"emoji": "ğŸ¥–", "nome": "PÃ£o"}
    ],
    "Q": [
        {"emoji": "ğŸ‘‘", "nome": "Queijo"},
        {"emoji": "ğŸƒ", "nome": "Quebra-cabeÃ§a"},
        {"emoji": "ğŸ–¼", "nome": "Quadro"}
    ],
    "R": [
        {"emoji": "ğŸ¦Š", "nome": "Raposa"},
        {"emoji": "ğŸ“»", "nome": "RÃ¡dio"},
        {"emoji": "ğŸ¦", "nome": "Rinoceronte"},
        {"emoji": "ğŸ¤–", "nome": "Robo"},
    ],
    "S": [
        {"emoji": "ğŸš¦", "nome": "SemÃ¡foro"},
        {"emoji": "ğŸŒ", "nome": "Sol"},
        {"emoji": "ğŸ¥—", "nome": "Salada"},
        {"emoji": "ğŸ””", "nome": "Sino de Natal"}
    ],
    "T": [
        {"emoji": "ğŸ©", "nome": "Teatro"},
        {"emoji": "ğŸŒ®", "nome": "Taco"},
        {"emoji": "ğŸš†", "nome": "Trem"},
        {"emoji": "ğŸ¹", "nome": "Teclado"},
        {"emoji": "ğŸº", "nome": "Trompete"},
        {"emoji": "ğŸ“", "nome": "Telefone"},
        {"emoji": "ğŸŒ", "nome": "Terra"},
        {"emoji": "ğŸ†", "nome": "TrofÃ©u"},
        {"emoji": "ğŸ¥", "nome": "Tambor"}
    ],
    "U": [
        {"emoji": "ğŸ¦„", "nome": "UnicÃ³rnio"},
        {"emoji": "ğŸ‡", "nome": "Uva"}
    ],
    "V": [
        {"emoji": "ğŸ»", "nome": "Violino"},
        {"emoji": "ğŸŒ‹", "nome": "VulcÃ£o"},
        {"emoji": "ğŸ·", "nome": "Vinho"},
        {"emoji": "ğŸ®", "nome": "Videogame"},
        {"emoji": "ğŸ“¹", "nome": "VÃ­deo"},
        {"emoji": "ğŸš", "nome": "Van"},
        {"emoji": "ğŸ”Š", "nome": "Volume"}        
    ],
    "X": [
        {"emoji": "âŒ", "nome": "Xis"}
    ],
    "Z": [
        {"emoji": "ğŸ¦“", "nome": "Zebra"}
    ]
};

        let currentGame = null;
        let speechSynth = window.speechSynthesis;

        function startGame(mode) {
            document.getElementById('main-menu').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
            document.getElementById('feedback').textContent = '';
            currentGame = mode;

            if(mode === 'numbers') initNumbersGame();
            else if(mode === 'letters') initLettersGame();
            else if(mode === 'counting') initCountingGame();
        }

        function showMainMenu() {
            if(stars > previousStars) {
                speak(`VocÃª tem ${stars} estrelas! Muito bem!`);
                previousStars = stars;
            } else if(stars < previousStars && stars > 0) {
                speak(`Agora vocÃª tem ${stars} estrelas. Vamos recuperar!`);
                previousStars = stars;
            }
            
            document.getElementById('main-menu').style.display = 'block';
            document.getElementById('game-area').style.display = 'none';
        }

        function initNumbersGame() {
            const content = document.getElementById('content');
            const targetNumber = numbers[Math.floor(Math.random() * 20)];
            
            content.innerHTML = `
                <h2>Encontre o nÃºmero:</h2>
                <div class="target-display">${targetNumber}</div>
                <div>Clique no nÃºmero igual ao mostrado acima</div>
            `;

            const options = shuffle([targetNumber, ...shuffle(numbers.filter(n => n !== targetNumber)).slice(0, 4)]);
            options.forEach(num => {
                const div = document.createElement('div');
                div.className = 'number-option';
                div.textContent = num;
                div.onclick = () => checkNumber(num === targetNumber);
                content.appendChild(div);
            });
            
            speak(`Encontre o nÃºmero ${targetNumber}`);
        }

        function initLettersGame() {
            const content = document.getElementById('content');
            const validLetters = Object.keys(emojiDatabase);
            const targetLetter = validLetters[Math.floor(Math.random() * validLetters.length)];
            const validEmojis = emojiDatabase[targetLetter];
            
            content.innerHTML = `
                <h2>Encontre emojis que comeÃ§am com:</h2>
                <div class="target-display">${targetLetter}</div>
                <div class="emoji-grid"></div>
            `;

            const grid = document.querySelector('.emoji-grid');
            const allEmojis = Object.values(emojiDatabase).flat();
            
            const correctOptions = shuffle([...validEmojis]).slice(0, 3);
            const incorrectOptions = shuffle(allEmojis.filter(e => !validEmojis.includes(e))).slice(0, 7);
            const mixedOptions = shuffle([...correctOptions, ...incorrectOptions]);

            mixedOptions.forEach(emojiObj => {
                const div = document.createElement('div');
                div.className = 'emoji-option';
                div.innerHTML = `
                    <div>${emojiObj.emoji}</div>
                    <div class="emoji-name">${emojiObj.nome}</div>
                `;
                div.onclick = () => checkEmoji(validEmojis.includes(emojiObj), emojiObj.nome);
                grid.appendChild(div);
            });

            speak(`Encontre coisas que comeÃ§am com a letra ${targetLetter}`);
        }

        function initCountingGame() {
            const content = document.getElementById('content');
            const targetCount = Math.floor(Math.random() * 20) + 1;
            const targetEmoji = shuffle(['ğŸ', 'â­', 'ğŸ»', 'ğŸˆ', 'ğŸª'])[0];
            
            content.innerHTML = `
                <h2>Conte atÃ©:</h2>
                <div class="target-display">${targetCount} ${targetEmoji}</div>
                <div id="counter">0</div>
                <div class="emoji-grid"></div>
            `;

            const grid = document.querySelector('.emoji-grid');
            const options = shuffle([targetEmoji, ...shuffle(['ğŸ¶','ğŸ‰','ğŸš—','ğŸ®','ğŸ•','ğŸ€','ğŸ ','ğŸ©','ğŸš‚','ğŸŒ»']).slice(0, 9)]);
            
            options.forEach(emoji => {
                const div = document.createElement('div');
                div.className = 'emoji-option';
                div.textContent = emoji;
                div.onclick = () => handleCountClick(emoji === targetEmoji, targetCount);
                grid.appendChild(div);
            });

            speak(`Clique ${targetCount} vezes no ${getEmojiName(targetEmoji)}`);
        }

        function handleCountClick(isCorrect, target) {
            if(!isCorrect) {
                speak("Esse nÃ£o Ã© o emoji correto!");
                updateStars(-1);
                showFeedback('âŒ Emoji errado!', false);
                return;
            }

            const counter = document.getElementById('counter');
            let count = parseInt(counter.textContent) + 1;
            counter.textContent = count;
            speak(count.toString());

            if(count === target) {
                updateStars(1);
                showFeedback('ğŸ‰ ParabÃ©ns! Contagem correta!', true);
                setTimeout(() => startGame('counting'), 2000);
            }
        }

        function checkNumber(isCorrect) {
            if(isCorrect) {
                updateStars(1);
                showFeedback('ğŸ¯ Correto! VocÃª Ã© demais!', true);
                speak("ParabÃ©ns! NÃºmero correto!");
                setTimeout(() => startGame('numbers'), 2000);
            } else {
                updateStars(-1);
                showFeedback('ğŸ¤” Tente novamente!', false);
                speak("Ops! Esse nÃ£o Ã© o nÃºmero");
            }
        }

        function checkEmoji(isCorrect, nome) {
            if(isCorrect) {
                updateStars(1);
                showFeedback('ğŸŒˆ Certo! CombinaÃ§Ã£o perfeita!', true);
                speak(`Isso mesmo! ${nome} comeÃ§a com ${nome[0]}!`);
                setTimeout(() => startGame('letters'), 2000);
            } else {
                updateStars(-1);
                showFeedback(`ğŸ’¡ "${nome}" comeÃ§a com ${nome[0].toUpperCase()}!`, false);
                speak(`Ops! ${nome} comeÃ§a com ${nome[0].toUpperCase()}!`);
            }
        }

        function updateStars(change) {
            const newStars = Math.max(0, stars + change);
            if(newStars !== stars) {
                stars = newStars;
                localStorage.setItem('stars', stars.toString());
                document.getElementById('stars').textContent = `â­ ${stars}`;
                
                if(change > 0) {
                    speak(`ParabÃ©ns! Agora vocÃª tem ${stars} estrelas!`);
                } else if(change < 0 && stars > 0) {
                    speak('NÃ£o desista! Continue tentando!');
                }
            }
        }

        function showFeedback(message, isCorrect) {
            const feedback = document.getElementById('feedback');
            feedback.textContent = message;
            feedback.style.color = isCorrect ? '#2E7D32' : '#C62828';
        }

        function speak(text) {
            if(speechSynth.speaking) speechSynth.cancel();
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'pt-BR';
            utterance.rate = 0.9;
            speechSynth.speak(utterance);
        }

        function shuffle(array) {
            return array.sort(() => Math.random() - 0.5);
        }

        function getEmojiName(emoji) {
            const names = {
                'ğŸ': 'maÃ§Ã£', 'â­': 'estrela', 'ğŸ»': 'urso',
                'ğŸˆ': 'balÃ£o', 'ğŸª': 'biscoito', 'ğŸ¶': 'cachorro',
                'ğŸ‰': 'melancia', 'ğŸš—': 'carro', 'ğŸ®': 'videogame',
                'ğŸ•': 'pizza', 'ğŸ€': 'bola', 'ğŸ ': 'peixe',
                'ğŸ©': 'rosquinha', 'ğŸš‚': 'trem', 'ğŸŒ»': 'girassol'
            };
            return names[emoji] || 'objeto';
        }

        document.getElementById('stars').textContent = `â­ ${stars}`;
    </script>
</body>
</html>